{% for field in site.data.admin.fields %}{% case field.widget %}{% when "select" %}{% assign map=field.map|default:"title" %}
{{include.indent}}      - name: {{field.name}}
{{include.indent}}        label: {% include admin/label.yml name=field.name label=field.label %}{% if field.hint %}
{{include.indent}}        hint: {{field.hint}}{% endif %}
{{include.indent}}        widget: select
{{include.indent}}        required: false
{{include.indent}}        multiple: {{field.multiple}}
{{include.indent}}        options: {% if field.collection %}[{{site[field.collection]|map:map|join:","}}]{% else %}{% for option in field.options %}
{{include.indent}}          - {% include admin/option.yml label=option.value value=option.value %}{% endfor %}{% endif %}{% when "list" %}
{{include.indent}}      - name: {{field.name}}
{{include.indent}}        label: {% include admin/label.yml name=field.name label=field.label %}
{{include.indent}}        hint: {{field.hint}}
{{include.indent}}        widget: list
{{include.indent}}        required: false
{{include.indent}}        fields: {% for field in field.fields %}{% case field.widget %}{% when "select" %}{% assign map=field.map|default:"title" %}
{{include.indent}}          - name: {{field.name}}
{{include.indent}}            label: {% include admin/label.yml name=field.name label=field.label %}{% if field.hint %}
{{include.indent}}            hint: {{field.hint}}{% endif %}
{{include.indent}}            widget: select
{{include.indent}}            required: false
{{include.indent}}            multiple: {{field.multiple}}
{{include.indent}}            options: {% if field.collection %}[{{site[field.collection]|map:map|join:","}}]]{% else %}{% for option in field.options %}
{{include.indent}}              - {% include admin/option.yml label=option.label value=option.value %}{% endfor %}{% endif %}{% else %}
{{include.indent}}          - {% include admin/field.yml name=field.name label=field.label widget=field.widget hint=option.hint %}{% endcase %}{% endfor %}{% else %}
{{include.indent}}      - {% include admin/field.yml name=field.name label=field.label widget=field.widget hint=option.hint %}{% endcase %}{% else %}[]{% endfor %}