{% assign item = include.item | default: page %}

{% assign require = item.slug | split:',' %}

{% for dep in item.require %}
	{% assign depPage = site.documents | where:'slug', dep | first %}
	{% capture depList %}{% include require-list.html item=depPage %}{% endcapture %}
	{% assign require = depList | strip | split:',' | concat: require %}
{% endfor %}

{% if item.userscript %}
	{% assign require = site.userscriptManager | concat: require %}
{% endif %}

{{require | uniq | join:','}}